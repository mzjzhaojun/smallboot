{"parentPackageName":"com.zhengqing","moduleName":"system","tableName":"t_test","pgList":[{"name":"api","tplContent":"","tplFilePath":"","childList":[{"name":"${entity}Controller.java","tplContent":"package ${package.api};\n\nimport java.util.List;\nimport com.zhengqing.common.core.custom.repeatsubmit.NoRepeatSubmit;\nimport com.zhengqing.common.core.custom.validator.common.UpdateGroup;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\nimport ${package.vo}.${entity}DetailVO;\nimport ${package.vo}.${entity}PageVO;\nimport ${package.dto}.${entity}PageDTO;\nimport ${package.dto}.${entity}DetailDTO;\nimport ${package.dto}.${entity}SaveDTO;\nimport com.baomidou.mybatisplus.core.metadata.IPage;\nimport com.zhengqing.common.core.api.BaseController;\nimport com.zhengqing.common.core.custom.repeatsubmit.NoRepeatSubmit;\nimport com.zhengqing.common.core.custom.validator.common.UpdateGroup;\nimport ${package.service}.I${entity}Service;\nimport lombok.RequiredArgsConstructor;\nimport io.swagger.annotations.Api;\nimport io.swagger.annotations.ApiOperation;\nimport com.zhengqing.common.base.constant.ServiceConstant;\n\n\n/**\n * <p> ${tableComment} 接口 </p>\n *\n * @author ${author}\n * @description\n * @date ${date}\n */\n@RestController\n@RequiredArgsConstructor\n@RequestMapping(ServiceConstant.SERVICE_API_PREFIX_WEB_SYSTEM + \"/api/${moduleName}/${entityNameLower}\")\n@Api(tags = {\"${tableComment}\"})\npublic class ${entity}Controller extends BaseController {\n\n    private final I${entity}Service ${entityNameLower}Service;\n\n    @GetMapping(\"page\")\n    @ApiOperation(\"分页列表\")\n    public IPage<${entity}PageVO> page(@Validated @ModelAttribute ${entity}PageDTO params) {\n        return this.${entityNameLower}Service.page(params);\n    }\n\n    @GetMapping(\"list\")\n    @ApiOperation(\"列表\")\n    public List<${entity}ListVO> list(@Validated @ModelAttribute ${entity}ListDTO params) {\n        return this.${entityNameLower}Service.list(params);\n    }\n\n    @GetMapping(\"detail\")\n    @ApiOperation(\"详情\")\n    public ${entity}DetailVO detail(@Validated @ModelAttribute ${entity}DetailDTO params) {\n        return this.${entityNameLower}Service.detail(params);\n    }\n\n    @NoRepeatSubmit\n    @PostMapping(\"add\")\n    @ApiOperation(\"新增\")\n    public void add(@Validated @RequestBody ${entity}SaveDTO params) {\n        params.setId(null);\n        this.${entityNameLower}Service.addOrUpdateData(params);\n    }\n\n    @NoRepeatSubmit\n    @PutMapping(\"update\")\n    @ApiOperation(\"更新\")\n    public void update(@Validated(UpdateGroup.class) @RequestBody ${entity}SaveDTO params) {\n        this.${entityNameLower}Service.addOrUpdateData(params);\n    }\n\n    @DeleteMapping(\"delete\")\n    @ApiOperation(\"删除\")\n    public void delete(@RequestParam ${primaryColumnTypeJava} ${primaryColumnNameJavaLower}) {\n        this.${entityNameLower}Service.deleteData(${primaryColumnNameJavaLower});\n    }\n\n}\n","tplFilePath":"D:\\zhengqingya\\code\\workspace-me\\smallboot\\smallboot-api\\doc\\code-generate-template\\smallboot\\api\\${entity}Controller.java","childList":[]}]},{"name":"entity","tplContent":"","tplFilePath":"","childList":[{"name":"${entity}.java","tplContent":"package ${package.entity};\r\n\r\nimport java.util.Date;\r\n\r\nimport com.baomidou.mybatisplus.annotation.IdType;\r\nimport com.baomidou.mybatisplus.annotation.TableId;\r\nimport com.baomidou.mybatisplus.annotation.TableName;\r\nimport com.zhengqing.common.db.entity.BaseEntity;\r\n\r\nimport io.swagger.annotations.ApiModel;\r\nimport io.swagger.annotations.ApiModelProperty;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.NoArgsConstructor;\r\n\r\n/**\r\n * <p>  ${tableComment} </p>\r\n *\r\n * @author ${author}\r\n * @description\r\n * @date ${date}\r\n */\r\n@Data\r\n@EqualsAndHashCode(callSuper = true)\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@TableName(\"${tableName}\")\r\n@ApiModel(\"${tableComment}\")\r\npublic class ${entity} extends BaseEntity<${entity}> {\r\n\r\n    <#list columnInfoList as item>\r\n    <#if item.columnNameDb != \"create_by\" && item.columnNameDb != \"create_time\" && item.columnNameDb != \"update_by\" && item.columnNameDb != \"update_time\" && item.columnNameDb != \"is_deleted\">\r\n    @ApiModelProperty(\"${item.columnComment}\")\r\n    <#if item.ifPrimaryKey>\r\n    @TableId(value = \"${item.columnNameDb}\", type = IdType.AUTO)\r\n    </#if>\r\n    private ${item.columnTypeJava} ${item.columnNameJavaLower};\r\n\r\n    </#if>\r\n    </#list>\r\n}\r\n","tplFilePath":"D:\\zhengqingya\\code\\workspace-me\\smallboot\\smallboot-api\\doc\\code-generate-template\\smallboot\\entity\\${entity}.java","childList":[]}]},{"name":"mapper","tplContent":"","tplFilePath":"","childList":[{"name":"${entity}Mapper.java","tplContent":"package ${package.mapper};\r\n\r\nimport java.util.List;\r\nimport ${package.vo}.${entity}DetailVO;\r\nimport ${package.vo}.${entity}PageVO;\r\nimport ${package.dto}.${entity}PageDTO;\r\nimport ${package.dto}.${entity}DetailDTO;\r\nimport ${package.entity}.${entity};\r\n\r\nimport org.apache.ibatis.annotations.Param;\r\nimport com.baomidou.mybatisplus.core.mapper.BaseMapper;\r\nimport com.baomidou.mybatisplus.core.metadata.IPage;\r\n\r\n/**\r\n * <p> ${tableComment} Mapper </p>\r\n *\r\n * @author ${author}\r\n * @description\r\n * @date ${date}\r\n */\r\npublic interface ${entity}Mapper extends BaseMapper<${entity}> {\r\n\r\n    /**\r\n     * 列表分页\r\n     *\r\n     * @param page 分页数据\r\n     * @param filter 查询过滤参数\r\n     * @return 查询结果\r\n     * @author ${author}\r\n     * @date ${date}\r\n     */\r\n    IPage<${entity}PageVO> selectDataPage(IPage<${entity}PageVO> page, @Param(\"filter\") ${entity}PageDTO filter);\r\n\r\n    /**\r\n     * 列表\r\n     *\r\n     * @param filter 查询过滤参数\r\n     * @return 查询结果\r\n     * @author ${author}\r\n     * @date ${date}\r\n     */\r\n    List<${entity}ListVO> selectDataList(@Param(\"filter\") ${entity}ListDTO filter);\r\n\r\n    /**\r\n     * 详情\r\n     *\r\n     * @param filter 查询过滤参数\r\n     * @return 详情\r\n     * @author ${author}\r\n     * @date ${date}\r\n     */\r\n     ${entity}DetailVO detail(@Param(\"filter\") ${entity}DetailDTO filter);\r\n\r\n}\r\n","tplFilePath":"D:\\zhengqingya\\code\\workspace-me\\smallboot\\smallboot-api\\doc\\code-generate-template\\smallboot\\mapper\\${entity}Mapper.java","childList":[]},{"name":"mapper.xml","tplContent":"","tplFilePath":"","childList":[{"name":"${entity}Mapper.xml","tplContent":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\r\n<mapper namespace=\"${package.mapper}.${entity}Mapper\">\r\n\r\n  <select id=\"selectDataPage\" resultType=\"${package.vo}.${entity}PageVO\">\r\n    SELECT\r\n    <#list columnInfoList as item>\r\n    ${tableNameAbbr}.${item.columnNameDb},\r\n    </#list>\r\n    FROM ${tableName} ${tableNameAbbr}\r\n    <where>\r\n         ${tableNameAbbr}.is_deleted=0\r\n        <#list queryColumnInfoList as item>\r\n        <#if item.columnTypeJava = \"Integer\">\r\n        <if test=\"filter.${item.columnNameJavaLower}!=null\">\r\n          AND ${tableNameAbbr}.${item.columnNameDb} = ${r\"#\"}{filter.${item.columnNameJavaLower}}\r\n        </if>\r\n        <#else>\r\n        <if test=\"filter.${item.columnNameJavaLower}!=null and filter.${item.columnNameJavaLower}!=''\">\r\n          AND ${tableNameAbbr}.${item.columnNameDb} LIKE CONCAT( '%', ${r\"#\"}{filter.${item.columnNameJavaLower}} , '%' )\r\n        </if>\r\n        </#if>\r\n        </#list>\r\n    </where>\r\n    ORDER BY ${tableNameAbbr}.create_time DESC\r\n  </select>\r\n\r\n    <select id=\"selectDataList\" resultType=\"${package.vo}.${entity}ListVO\">\r\n        SELECT\r\n           id, name\r\n        FROM ${tableName} ${tableNameAbbr}\r\n        <where>\r\n            ${tableNameAbbr}.is_deleted=0\r\n        </where>\r\n            ORDER BY ${tableNameAbbr}.create_time DESC\r\n    </select>\r\n\r\n    <select id=\"detail\" resultType=\"${package.vo}.${entity}DetailVO\">\r\n        SELECT\r\n        <#list columnInfoList as item>\r\n        ${tableNameAbbr}.${item.columnNameDb},\r\n        </#list>\r\n        FROM ${tableName} ${tableNameAbbr}\r\n        <where>\r\n            ${tableNameAbbr}.is_deleted=0\r\n            <#list queryColumnInfoList as item>\r\n            <#if item.columnTypeJava = \"Integer\">\r\n            <if test=\"filter.${item.columnNameJavaLower}!=null\">\r\n                AND ${tableNameAbbr}.${item.columnNameDb} = ${r\"#\"}{filter.${item.columnNameJavaLower}}\r\n            </if>\r\n            <#else>\r\n            <if test=\"filter.${item.columnNameJavaLower}!=null and filter.${item.columnNameJavaLower}!=''\">\r\n                AND ${tableNameAbbr}.${item.columnNameDb} LIKE CONCAT( '%', ${r\"#\"}{filter.${item.columnNameJavaLower}} , '%' )\r\n            </if>\r\n            </#if>\r\n            </#list>\r\n        </where>\r\n    </select>\r\n\r\n</mapper>\r\n","tplFilePath":"D:\\zhengqingya\\code\\workspace-me\\smallboot\\smallboot-api\\doc\\code-generate-template\\smallboot\\mapper\\xml\\${entity}Mapper.xml","childList":[]}]}]},{"name":"model","tplContent":"","tplFilePath":"","childList":[{"name":"model.dto","tplContent":"","tplFilePath":"","childList":[{"name":"${entity}DetailDTO.java","tplContent":"package ${package.dto};\r\n\r\nimport com.zhengqing.common.base.model.dto.BaseDTO;\r\nimport io.swagger.annotations.ApiModel;\r\nimport io.swagger.annotations.ApiModelProperty;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.experimental.SuperBuilder;\r\n\r\nimport java.util.Date;\r\n\r\n/**\r\n * <p> ${tableComment}-详情-请求参数 </p>\r\n *\r\n * @author ${ author }\r\n * @description\r\n * @date ${date}\r\n */\r\n@Data\r\n@SuperBuilder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@EqualsAndHashCode(callSuper = true)\r\n@ApiModel(\"${tableComment}-详情-请求参数\")\r\npublic class ${entity}DetailDTO extends BaseDTO {\r\n\r\n    <#list queryColumnInfoList as item>\r\n    @ApiModelProperty(\"${item.columnComment}\")\r\n    private ${item.columnTypeJava} ${item.columnNameJavaLower};\r\n\r\n    </#list>\r\n}\r\n","tplFilePath":"D:\\zhengqingya\\code\\workspace-me\\smallboot\\smallboot-api\\doc\\code-generate-template\\smallboot\\model\\dto\\${entity}DetailDTO.java","childList":[]},{"name":"${entity}ListDTO.java","tplContent":"package ${package.dto};\r\n\r\nimport com.zhengqing.common.base.model.dto.BaseDTO;\r\nimport io.swagger.annotations.ApiModel;\r\nimport io.swagger.annotations.ApiModelProperty;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.experimental.SuperBuilder;\r\n\r\nimport java.util.Date;\r\n\r\n/**\r\n * <p> ${tableComment}-列表-请求参数 </p>\r\n *\r\n * @author ${ author }\r\n * @description\r\n * @date ${date}\r\n */\r\n@Data\r\n@SuperBuilder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@EqualsAndHashCode(callSuper = true)\r\n@ApiModel(\"${tableComment}-列表-请求参数\")\r\npublic class ${entity}ListDTO extends BaseDTO {\r\n\r\n    <#list queryColumnInfoList as item>\r\n    @ApiModelProperty(\"${item.columnComment}\")\r\n    private ${item.columnTypeJava} ${item.columnNameJavaLower};\r\n\r\n    </#list>\r\n}\r\n","tplFilePath":"D:\\zhengqingya\\code\\workspace-me\\smallboot\\smallboot-api\\doc\\code-generate-template\\smallboot\\model\\dto\\${entity}ListDTO.java","childList":[]},{"name":"${entity}PageDTO.java","tplContent":"package ${package.dto};\r\n\r\nimport com.zhengqing.common.base.model.dto.BasePageDTO;\r\nimport io.swagger.annotations.ApiModel;\r\nimport io.swagger.annotations.ApiModelProperty;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.experimental.SuperBuilder;\r\n\r\nimport java.util.Date;\r\n\r\n/**\r\n * <p> ${tableComment}-分页列表-请求参数 </p>\r\n *\r\n * @author ${ author }\r\n * @description\r\n * @date ${date}\r\n */\r\n@Data\r\n@SuperBuilder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@EqualsAndHashCode(callSuper = true)\r\n@ApiModel(\"${tableComment}-分页列表-请求参数\")\r\npublic class ${entity}PageDTO extends BasePageDTO {\r\n\r\n    <#list queryColumnInfoList as item>\r\n    @ApiModelProperty(\"${item.columnComment}\")\r\n    private ${item.columnTypeJava} ${item.columnNameJavaLower};\r\n\r\n    </#list>\r\n}\r\n","tplFilePath":"D:\\zhengqingya\\code\\workspace-me\\smallboot\\smallboot-api\\doc\\code-generate-template\\smallboot\\model\\dto\\${entity}PageDTO.java","childList":[]},{"name":"${entity}SaveDTO.java","tplContent":"package ${package.dto};\r\n\r\nimport com.zhengqing.common.base.model.dto.BaseDTO;\r\nimport com.zhengqing.common.core.custom.validator.common.UpdateGroup;\r\nimport io.swagger.annotations.ApiModel;\r\nimport io.swagger.annotations.ApiModelProperty;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.experimental.SuperBuilder;\r\nimport javax.validation.constraints.NotNull;\r\nimport java.util.Date;\r\n\r\n/**\r\n * <p> ${tableComment}-保存-提交参数 </p>\r\n *\r\n * @author ${ author }\r\n * @description\r\n * @date ${date}\r\n */\r\n@Data\r\n@SuperBuilder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@EqualsAndHashCode(callSuper = true)\r\n@ApiModel(\"${tableComment}-保存-提交参数\")\r\npublic class ${entity}SaveDTO extends BaseDTO {\r\n\r\n<#list columnInfoList as item>\r\n<#if item.columnNameDb != \"create_by\" && item.columnNameDb != \"create_time\" && item.columnNameDb != \"update_by\" && item.columnNameDb != \"update_time\" && item.columnNameDb != \"is_deleted\">\r\n    @ApiModelProperty(\"${item.columnComment}\")\r\n<#if item.ifPrimaryKey>\r\n    @NotNull(groups = {UpdateGroup.class}, message = \"${item.columnComment}不能为空!\")\r\n</#if>\r\n    private ${item.columnTypeJava} ${item.columnNameJavaLower};\r\n\r\n</#if>\r\n</#list>\r\n\r\n}\r\n","tplFilePath":"D:\\zhengqingya\\code\\workspace-me\\smallboot\\smallboot-api\\doc\\code-generate-template\\smallboot\\model\\dto\\${entity}SaveDTO.java","childList":[]}]},{"name":"model.vo","tplContent":"","tplFilePath":"","childList":[{"name":"${entity}DetailVO.java","tplContent":"package ${ package.vo };\r\n\r\nimport com.zhengqing.common.base.model.vo.BaseVO;\r\nimport io.swagger.annotations.ApiModel;\r\nimport io.swagger.annotations.ApiModelProperty;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport java.util.Date;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.experimental.SuperBuilder;\r\n\r\n/**\r\n * <p>${tableComment}-详情-响应参数</p>\r\n *\r\n * @author ${ author }\r\n * @description\r\n * @date ${date}\r\n */\r\n@Data\r\n@SuperBuilder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@EqualsAndHashCode(callSuper = true)\r\n@ApiModel(\"${tableComment}-详情-响应参数\")\r\npublic class ${entity}DetailVO extends BaseVO {\r\n\r\n<#list columnInfoList as item>\r\n    <#if item.columnNameDb != \"create_by\" && item.columnNameDb != \"create_time\" && item.columnNameDb != \"update_by\" && item.columnNameDb != \"update_time\" && item.columnNameDb != \"is_deleted\">\r\n    @ApiModelProperty(\"${item.columnComment}\")\r\n    private ${item.columnTypeJava} ${item.columnNameJavaLower};\r\n\r\n    </#if>\r\n</#list>\r\n\r\n    public void handleData() {\r\n\r\n    }\r\n\r\n}\r\n","tplFilePath":"D:\\zhengqingya\\code\\workspace-me\\smallboot\\smallboot-api\\doc\\code-generate-template\\smallboot\\model\\vo\\${entity}DetailVO.java","childList":[]},{"name":"${entity}ListVO.java","tplContent":"package ${ package.vo };\r\n\r\nimport com.zhengqing.common.base.model.vo.BaseVO;\r\nimport io.swagger.annotations.ApiModel;\r\nimport io.swagger.annotations.ApiModelProperty;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport java.util.Date;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.experimental.SuperBuilder;\r\n\r\n/**\r\n * <p>${tableComment}-列表-响应参数</p>\r\n *\r\n * @author ${ author }\r\n * @description\r\n * @date ${date}\r\n */\r\n@Data\r\n@SuperBuilder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@EqualsAndHashCode(callSuper = true)\r\n@ApiModel(\"${tableComment}-列表-响应参数\")\r\npublic class ${entity}ListVO extends BaseVO {\r\n\r\n<#list columnInfoList as item>\r\n    <#if item.columnNameDb != \"create_by\" && item.columnNameDb != \"create_time\" && item.columnNameDb != \"update_by\" && item.columnNameDb != \"update_time\" && item.columnNameDb != \"is_deleted\">\r\n    @ApiModelProperty(\"${item.columnComment}\")\r\n    private ${item.columnTypeJava} ${item.columnNameJavaLower};\r\n\r\n    </#if>\r\n</#list>\r\n\r\n    public void handleData() {\r\n\r\n    }\r\n\r\n}\r\n","tplFilePath":"D:\\zhengqingya\\code\\workspace-me\\smallboot\\smallboot-api\\doc\\code-generate-template\\smallboot\\model\\vo\\${entity}ListVO.java","childList":[]},{"name":"${entity}PageVO.java","tplContent":"package ${ package.vo };\r\n\r\nimport com.zhengqing.common.base.model.vo.BaseVO;\r\nimport io.swagger.annotations.ApiModel;\r\nimport io.swagger.annotations.ApiModelProperty;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport java.util.Date;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.experimental.SuperBuilder;\r\n\r\n/**\r\n * <p>${tableComment}-分页列表-响应参数</p>\r\n *\r\n * @author ${ author }\r\n * @description\r\n * @date ${date}\r\n */\r\n@Data\r\n@SuperBuilder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@EqualsAndHashCode(callSuper = true)\r\n@ApiModel(\"${tableComment}-分页列表-响应参数\")\r\npublic class ${entity}PageVO extends BaseVO {\r\n\r\n<#list columnInfoList as item>\r\n    <#if item.columnNameDb != \"create_by\" && item.columnNameDb != \"create_time\" && item.columnNameDb != \"update_by\" && item.columnNameDb != \"update_time\" && item.columnNameDb != \"is_deleted\">\r\n    @ApiModelProperty(\"${item.columnComment}\")\r\n    private ${item.columnTypeJava} ${item.columnNameJavaLower};\r\n\r\n    </#if>\r\n</#list>\r\n\r\n    public void handleData() {\r\n\r\n    }\r\n\r\n}\r\n","tplFilePath":"D:\\zhengqingya\\code\\workspace-me\\smallboot\\smallboot-api\\doc\\code-generate-template\\smallboot\\model\\vo\\${entity}PageVO.java","childList":[]}]}]},{"name":"service","tplContent":"","tplFilePath":"","childList":[{"name":"I${entity}Service.java","tplContent":"package ${package.service};\r\n\r\nimport java.util.List;\r\nimport ${package.vo}.${entity}DetailVO;\r\nimport ${package.vo}.${entity}PageVO;\r\nimport ${package.dto}.${entity}PageDTO;\r\nimport ${package.dto}.${entity}DetailDTO;\r\nimport ${package.dto}.${entity}SaveDTO;\r\nimport ${package.entity}.${entity};\r\nimport com.baomidou.mybatisplus.core.metadata.IPage;\r\nimport com.baomidou.mybatisplus.extension.service.IService;\r\n\r\n/**\r\n * <p>  ${tableComment} 服务类 </p>\r\n *\r\n * @author ${author}\r\n * @description\r\n * @date ${date}\r\n */\r\npublic interface I${entity}Service extends IService<${entity}> {\r\n\r\n    /**\r\n     * 分页列表\r\n     *\r\n     * @param params 查询参数\r\n     * @return 查询结果\r\n     * @author ${author}\r\n     * @date ${date}\r\n     */\r\n    IPage<${entity}PageVO> page(${entity}PageDTO params);\r\n\r\n    /**\r\n     * 列表\r\n     *\r\n     * @param params 查询参数\r\n     * @return 查询结果\r\n     * @author ${author}\r\n     * @date ${date}\r\n     */\r\n    List<${entity}ListVO> list(${entity}ListDTO params);\r\n\r\n    /**\r\n     * 详情\r\n     *\r\n     * @param params 查询参数\r\n     * @return 详情\r\n     * @author ${author}\r\n     * @date ${date}\r\n     */\r\n     ${entity}DetailVO detail(${entity}DetailDTO params);\r\n\r\n    /**\r\n     * 新增或更新\r\n     *\r\n     * @param params 保存参数\r\n     * @return void\r\n     * @author ${author}\r\n     * @date ${date}\r\n     */\r\n     void addOrUpdateData(${entity}SaveDTO params);\r\n\r\n     /**\r\n      * 删除数据\r\n      *\r\n      * @param ${primaryColumnNameJavaLower} 主键ID\r\n      * @return void\r\n      * @author ${author}\r\n      * @date ${date}\r\n      */\r\n      void deleteData(${primaryColumnTypeJava} ${primaryColumnNameJavaLower});\r\n\r\n}\r\n","tplFilePath":"D:\\zhengqingya\\code\\workspace-me\\smallboot\\smallboot-api\\doc\\code-generate-template\\smallboot\\service\\I${entity}Service.java","childList":[]},{"name":"service.impl","tplContent":"","tplFilePath":"","childList":[{"name":"${entity}ServiceImpl.java","tplContent":"package ${package.impl};\r\n\r\nimport cn.hutool.core.lang.Assert;\r\nimport java.util.List;\r\nimport org.springframework.util.CollectionUtils;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\nimport lombok.RequiredArgsConstructor;\r\nimport com.baomidou.mybatisplus.core.metadata.IPage;\r\nimport com.baomidou.mybatisplus.extension.plugins.pagination.Page;\r\nimport com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;\r\nimport ${package.vo}.${entity}DetailVO;\r\nimport ${package.vo}.${entity}PageVO;\r\nimport ${package.dto}.${entity}PageDTO;\r\nimport ${package.dto}.${entity}DetailDTO;\r\nimport ${package.dto}.${entity}SaveDTO;\r\nimport ${package.mapper}.${entity}Mapper;\r\nimport ${package.entity}.${entity};\r\nimport ${package.service}.I${entity}Service;\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n/**\r\n * <p> ${tableComment} 服务实现类 </p>\r\n *\r\n * @author ${author}\r\n * @description\r\n * @date ${date}\r\n */\r\n@Slf4j\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class ${entity}ServiceImpl extends ServiceImpl<${entity}Mapper, ${entity}> implements I${entity}Service {\r\n\r\n    private final ${entity}Mapper ${entityNameLower}Mapper;\r\n\r\n    @Override\r\n    public IPage<${entity}PageVO> page(${entity}PageDTO params) {\r\n        IPage<${entity}PageVO> result = this.${entityNameLower}Mapper.selectDataPage(new Page<>(), params);\r\n        List<${entity}PageVO> list = result.getRecords();\r\n        list.forEach(${entity}PageVO::handleData);\r\n        return result;\r\n    }\r\n\r\n    @Override\r\n    public List<${entity}ListVO> list(${entity}ListDTO params) {\r\n        return this.${entityNameLower}Mapper.selectDataList(params);\r\n    }\r\n\r\n    @Override\r\n    public ${entity}DetailVO detail(${entity}DetailDTO params){\r\n        ${entity}DetailVO detailData = this.${entityNameLower}Mapper.detail(params);\r\n        Assert.notNull(detailData, \"该数据不存在！\");\r\n        return detailData;\r\n    }\r\n\r\n    @Override\r\n    @Transactional(rollbackFor = Exception.class)\r\n    public void addOrUpdateData(${entity}SaveDTO params) {\r\n        ${entity}.builder()\r\n<#list columnInfoList as item>\r\n<#if item.columnNameDb != \"create_by\" && item.columnNameDb != \"create_time\" && item.columnNameDb != \"update_by\" && item.columnNameDb != \"update_time\" && item.columnNameDb != \"is_deleted\">\r\n            .${item.columnNameJavaLower}(params.get${item.columnNameJavaUpper}())\r\n</#if>\r\n</#list>\r\n            .build()\r\n            .insertOrUpdate();\r\n    }\r\n\r\n    @Override\r\n    @Transactional(rollbackFor = Exception.class)\r\n    public void deleteData(${primaryColumnTypeJava} ${primaryColumnNameJavaLower}){\r\n        this.${entityNameLower}Mapper.deleteById(${primaryColumnNameJavaLower});\r\n    }\r\n\r\n}\r\n","tplFilePath":"D:\\zhengqingya\\code\\workspace-me\\smallboot\\smallboot-api\\doc\\code-generate-template\\smallboot\\service\\impl\\${entity}ServiceImpl.java","childList":[]}]}]},{"name":"vue","tplContent":"","tplFilePath":"","childList":[{"name":"${vueApiName}.js","tplContent":"import request from '@/utils/request';\r\n\r\nconst BASE_API = \"/web/api/${moduleName}/${entityNameLower}\";\r\n\r\nexport default {\r\n  page(query, headers) {\r\n    return request({\r\n      url: BASE_API + \"/page\",\r\n      method: \"get\",\r\n      params: query,\r\n      headers\r\n    });\r\n  },\r\n  add(data) {\r\n    return request({\r\n      url: BASE_API + \"/add\",\r\n      method: \"post\",\r\n      data: data\r\n    });\r\n  },\r\n  update(data) {\r\n    return request({\r\n      url: BASE_API + \"/update\",\r\n      method: \"put\",\r\n      data: data\r\n    });\r\n  },\r\n  delete(params) {\r\n    return request({\r\n      url: BASE_API + \"/delete\",\r\n      method: \"delete\",\r\n      params: params\r\n    });\r\n  }\r\n};\r\n","tplFilePath":"D:\\zhengqingya\\code\\workspace-me\\smallboot\\smallboot-api\\doc\\code-generate-template\\smallboot\\vue\\${vueApiName}.js","childList":[]},{"name":"index.vue","tplContent":"<template>\r\n  <base-wrapper>\r\n    <base-header>\r\n        <#if queryColumnInfoList??>\r\n            <#list queryColumnInfoList as item>\r\n              <base-input v-model=\"listQuery.${item.columnNameJavaLower}\" label=\"${item.columnComment}\" @clear=\"refreshTableData\" />\r\n            </#list>\r\n        </#if>\r\n      <el-button type=\"primary\" @click=\"refreshTableData\">查询</el-button>\r\n      <template #right>\r\n        <el-button type=\"primary\" @click=\"handleAdd\">添加</el-button>\r\n      </template>\r\n    </base-header>\r\n\r\n    <base-table-p ref=\"baseTableRef\" api=\"${vueApiName}.page\" :params=\"listQuery\">\r\n        <#list columnInfoList as item>\r\n            <#if item.columnTypeJava == \"Date\">\r\n              <el-table-column label=\"${item.columnComment}\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                  <span>{{scope.row.${item.columnNameJavaLower}|dateTimeFilter}}</span>\r\n                </template>\r\n              </el-table-column>\r\n            <#else>\r\n              <el-table-column label=\"${item.columnComment}\" prop=\"${item.columnNameJavaLower}\" align=\"center\" />\r\n            </#if>\r\n        </#list>\r\n      <el-table-column align=\"center\" label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button link @click=\"handleUpdate(scope.row)\">编辑</el-button>\r\n          <el-button link @click=\"handleDetail(scope.row)\">详情</el-button>\r\n          <base-delete-btn @ok=\"handleDelete(scope.row)\"></base-delete-btn>\r\n        </template>\r\n      </el-table-column>\r\n    </base-table-p>\r\n\r\n    <base-dialog v-model=\"dialogVisible\" :title=\"dialogTitleObj[dialogStatus]\" width=\"30%\">\r\n      <el-form ref=\"dataFormRef\" :inline=\"true\"  v-if=\"dialogStatus !== 'detail'\" :model=\"form\" :rules=\"rules\" label-width=\"100px\">\r\n          <#list columnInfoList as item>\r\n            <el-form-item label=\"${item.columnComment}:\" >\r\n              <el-input v-model=\"form.${item.columnNameJavaLower}\" />\r\n            </el-form-item>\r\n          </#list>\r\n      </el-form>\r\n      <base-cell label-width=\"100px\" v-else>\r\n            <#list columnInfoList as item>\r\n                  <base-cell-item label=\"${item.columnComment}\">{{ form.${item.columnNameJavaLower} }}</base-cell-item>\r\n            </#list>\r\n      </base-cell>\r\n      <template #footer v-if=\"dialogStatus !== 'detail'\">\r\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\r\n      </template>\r\n    </base-dialog>\r\n  </base-wrapper>\r\n</template>\r\n\r\n<script setup>\r\nconst { proxy } = getCurrentInstance();\r\nlet listQuery = $ref({});\r\nlet form = $ref({});\r\nlet dialogVisible = $ref(false);\r\nlet dialogStatus = $ref('');\r\nlet rules = $ref({});\r\n\r\nfunction refreshTableData() {\r\n  proxy.$refs.baseTableRef.refresh();\r\n}\r\nfunction handleDetail(row) {\r\n  form = Object.assign({}, row);\r\n  dialogStatus = 'detail';\r\n  dialogVisible = true;\r\n}\r\nfunction handleAdd() {\r\n  form = {  };\r\n  dialogStatus = 'add';\r\n  dialogVisible = true;\r\n}\r\nfunction handleUpdate(row) {\r\n  form = Object.assign({}, row);\r\n  dialogStatus = 'update';\r\n  dialogVisible = true;\r\n}\r\nasync function handleDelete(row) {\r\n  let res = await proxy.$api.${vueApiName}.delete({id: row.id});\r\n  refreshTableData();\r\n  proxy.submitOk(res.message);\r\n}\r\nfunction submitForm() {\r\n  proxy.$refs.dataFormRef.validate(async (valid) => {\r\n    if (valid) {\r\n      let res = await proxy.$api.${vueApiName}[form.id ? \"update\" : \"add\"](form);\r\n      proxy.submitOk(res.message);\r\n      refreshTableData();\r\n      dialogVisible = false;\r\n    }\r\n  });\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","tplFilePath":"D:\\zhengqingya\\code\\workspace-me\\smallboot\\smallboot-api\\doc\\code-generate-template\\smallboot\\vue\\index.vue","childList":[]}]}]}